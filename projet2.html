<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Projet 2 - Luka JEVTIC</title>
    <link rel="stylesheet" href="styles.css" />
    <style>
        .project-description p {
            margin-bottom: 40px;
            line-height: 1.8;
            font-size: 18px;
            text-align: justify;
        }
        .modal-project-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 8px;
            cursor: pointer; /* Indique que c’est cliquable */
        }

        /* CENTRAGE CONTENU PRINCIPAL */
        .container {
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            padding: 0 15px;
        }

        /* Centre aussi le texte du footer */
        .footer .container {
            text-align: center;
        }

        /* MODALE IMAGE */
        #imageModal {
            display: none; /* Caché par défaut */
            position: fixed;
            z-index: 10000;
            left: 0; top: 0;
            width: 100%; height: 100%;
            overflow: hidden; /* pour empêcher le scroll */
            background-color: rgba(0,0,0,0.8);
        }
        #imageModal img {
            position: absolute;
            top: 50%;
            left: 50%;
            max-width: 90%;
            max-height: 90%;
            transform: translate(-50%, -50%) scale(1);
            border-radius: 8px;
            box-shadow: 0 0 15px #000;
            cursor: grab;
            user-select: none;
            transition: transform 0.2s ease;
        }
        #imageModal .close {
            position: absolute;
            top: 20px;
            right: 35px;
            color: white;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            user-select: none;
        }
        #imageModal .close:hover {
            color: #bbb;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2><a href="index.html" style="text-decoration:none; color:inherit">Luka JEVTIC</a></h2>
            </div>
            <ul class="nav-menu">
                <li class="nav-item"><a href="index.html#accueil" class="nav-link">Accueil</a></li>
                <li class="nav-item"><a href="index.html#profil" class="nav-link">Profil</a></li>
                <li class="nav-item"><a href="index.html#projets" class="nav-link">Projets</a></li>
                <li class="nav-item"><a href="index.html#contact" class="nav-link">Contact</a></li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <section class="section" style="padding-top: 120px;">
        <div class="container">
            <h2 class="section-title">Projet Base de Données : Catastrophes Climatiques</h2>

            <div class="modal-project-images" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin: 20px 0;">
                <div class="modal-project-image"><img src="images/bdd1.png" alt="Image 1" /></div>
                <div class="modal-project-image"><img src="images/bdd2.png" alt="Image 2" /></div>
                <div class="modal-project-image"><img src="images/bdd3.png" alt="Image 3" /></div>
                <div class="modal-project-image"><img src="images/bdd4.png" alt="Image 4" /></div>
            </div>

            <div class="project-description" style="margin-top: 50px;">

                <p>Dans le cadre de ma formation en <strong>BUT Informatique</strong>, j’ai réalisé un projet sur la gestion de données liées aux catastrophes naturelles, telles que les inondations, les incendies ou les tempêtes. L’objectif était de créer une base de données, c’est-à-dire un système qui permet de stocker, organiser et retrouver facilement de grandes quantités d’informations. Tout a été réalisé à l’aide d’un langage informatique spécialisé : le <strong>SQL</strong> (Structured Query Language), qui permet de dialoguer avec les bases de données.</p>

                <p>La première étape a été de réfléchir aux différentes informations à enregistrer. Par exemple : les continents, les régions, les sous-régions, les pays, les types de catastrophes (comme les sécheresses ou les ouragans), et enfin les événements eux-mêmes avec leur date et le nombre d'occurrences. J’ai alors créé plusieurs "tables" qui correspondent chacune à un de ces éléments. Une table peut être comparée à un tableau Excel, avec des colonnes (les catégories d’informations) et des lignes (les différentes données enregistrées).</p>

                <p>Grâce au langage SQL, j’ai écrit des commandes précises pour construire ces tables. Par exemple, la commande <code>CREATE TABLE</code> a permis de créer la structure de chaque table. J’ai également défini des règles pour garantir que les informations restent cohérentes entre elles. Par exemple, un pays appartient forcément à une sous-région, et une sous-région à une région. Ces liaisons sont gérées grâce à ce qu’on appelle des "clés primaires" (identifiants uniques pour chaque élément) et des "clés étrangères" (liens entre les tables).</p>

                <p>Une fois la structure créée manuellement, j’ai utilisé un logiciel professionnel appelé <strong>pgAdmin 4</strong> qui permet de visualiser graphiquement ces relations sous forme de schémas. Cela m’a permis de vérifier que toutes les connexions entre les différentes tables étaient correctes et logiques. PgAdmin permet aussi de générer automatiquement du code SQL qui renforce encore l’intégrité des données et empêche les incohérences.</p>

                <p>Une fois la base de données prête, il fallait l’alimenter avec des données réelles. Pour cela, j’ai utilisé un fichier <strong>CSV</strong> (un fichier texte contenant des données sous forme de tableau). Avant de répartir ces données dans les bonnes tables, j’ai d’abord créé une table "temporaire" capable de recevoir tout le fichier d’un coup. La commande <code>\copy</code> m’a permis d’importer très rapidement plusieurs milliers de lignes de données à partir du fichier CSV directement dans la base.</p>

                <p>Ensuite, toujours grâce à SQL, j’ai trié ces informations et je les ai insérées progressivement dans chacune des tables définitives, en évitant les doublons avec la commande <code>SELECT DISTINCT</code>. Enfin, la table temporaire a été supprimée une fois l’opération terminée afin de ne garder que les vraies tables propres et organisées.</p>

                <p>À travers ce projet, j’ai pu découvrir l’ensemble du processus de création et de gestion d’une base de données relationnelle : de la modélisation initiale, jusqu’à l’importation de grandes quantités de données en toute sécurité. Ce projet m’a permis de mieux comprendre l’importance des bases de données dans de nombreux domaines d’activité, et m’a donné de solides bases pour la suite de ma formation.</p>

            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Luka JEVTIC. Tous droits réservés.</p>
        </div>
    </footer>

    <!-- Modal image agrandie -->
    <div id="imageModal">
        <span class="close">&times;</span>
        <img id="modalImg" alt="Image agrandie">
    </div>

    <script>
        const hamburger = document.querySelector('.hamburger');
        const navMenu = document.querySelector('.nav-menu');
        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            navMenu.classList.toggle('active');
        });
        document.querySelectorAll('.nav-link').forEach(link => link.addEventListener('click', () => {
            hamburger.classList.remove('active');
            navMenu.classList.remove('active');
        }));

        // CODE MODALE IMAGE avec zoom molette
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImg');
        const closeBtn = modal.querySelector('.close');

        let scale = 1;

        document.querySelectorAll('.modal-project-image img').forEach(img => {
            img.addEventListener('click', () => {
                modal.style.display = 'block';
                modalImg.src = img.src;
                modalImg.alt = img.alt;
                scale = 1;
                updateTransform();
            });
        });

        closeBtn.addEventListener('click', () => {
            modal.style.display = 'none';
            modalImg.src = '';
            modalImg.alt = '';
            scale = 1;
            updateTransform();
        });

        modal.addEventListener('click', (e) => {
            if(e.target === modal){
                modal.style.display = 'none';
                modalImg.src = '';
                modalImg.alt = '';
                scale = 1;
                updateTransform();
            }
        });

        function updateTransform(){
            modalImg.style.transform = `translate(-50%, -50%) scale(${scale})`;
        }

        modal.addEventListener('wheel', (e) => {
            e.preventDefault();
            const zoomStep = 0.1;
            if(e.deltaY < 0){
                scale += zoomStep;
                if(scale > 5) scale = 5;
            } else {
                scale -= zoomStep;
                if(scale < 1) scale = 1;
            }
            updateTransform();
        }, { passive: false });
    </script>
</body>
</html>
